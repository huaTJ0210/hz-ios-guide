{"code":"(this[\"webpackJsonpmy-app\"]=this[\"webpackJsonpmy-app\"]||[]).push([[0],{14:function(e,t,i){},15:function(e,t,i){\"use strict\";i.r(t);var n=i(1),a=i(0),r=i.n(a),c=i(4),d=i.n(c),s=(i(14),i(5)),o=i(6),l=i(2),b=i(8),u=i(7),p=function(e){Object(b.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={text:\"\\u663e\\u793a\\u6570\\u636e\",text1:\"\\u6570\\u636e\"},n.handleClick=n.handleClick.bind(Object(l.a)(n)),n}return Object(o.a)(i,[{key:\"componentDidMount\",value:function(){var e=this;r.a.$bridge.registerHandler(\"appCallJS\",(function(t,i){console.log(\"JS Echo called with:\",t),e.setState({text1:t.name}),i({name:\"from js callBack data\"})}))}},{key:\"handleClick\",value:function(){var e=this;r.a.$bqJSBridgeService(\"firstPageClick\",{name:\"li\"},(function(t){e.setState({text:t.name})}))}},{key:\"render\",value:function(){return Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(\"button\",{onClick:this.handleClick,children:\"\\u83b7\\u53d6\\u539f\\u751f\\u6570\\u636e\"}),Object(n.jsx)(\"p\",{children:this.state.text}),Object(n.jsx)(\"p\",{children:this.state.text1})]})}}]),i}(a.Component);!!navigator.userAgent.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)?r.a.$bridge=window.WebViewJavascriptBridge:document.addEventListener(\"WebViewJavascriptBridgeReady\",(function(){r.a.$bridge=window.WebViewJavascriptBridge})),r.a.$bqJSBridgeService=function(e,t,i){var n={FUNC_NAME:e,FUNC_PARAMS:t};\"undefined\"==typeof r.a.$bridge?document.addEventListener(\"WebViewJavascriptBridgeReady\",(function(){r.a.$bridge=window.WebViewJavascriptBridge,r.a.$bridge.callHandler(\"BQJSBridgeService\",n,(function(e){\"string\"==typeof e?(e=JSON.parse(e),i(e)):i(e)}))})):r.a.$bridge.callHandler(\"BQJSBridgeService\",n,(function(e){\"string\"==typeof e?(e=JSON.parse(e),i(e)):i(e)}))},d.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(p,{})}),document.getElementById(\"root\"))}},[[15,1,2]]]);","name":"static/js/main.c8abfaf0.chunk.js","map":{"version":3,"sources":["static/js/main.c8abfaf0.chunk.js"],"names":["this","push","14","module","exports","__webpack_require__","15","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","App_App","_Component","Object","App","_super","props","_this","call","state","text","text1","handleClick","bind","key","value","self","a","$bridge","registerHandler","data","responseCallback","console","log","setState","name","$bqJSBridgeService","children","onClick","navigator","userAgent","match","window","WebViewJavascriptBridge","document","addEventListener","funcName","funcParams","callbackFuc","lastParams","FUNC_NAME","FUNC_PARAMS","callHandler","response","JSON","parse","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmy-app\"] = this[\"webpackJsonpmy-app\"] || []).push([[0],{\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/App.jsx\nvar App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.state={text:\"显示数据\",text1:'数据'};_this.handleClick=_this.handleClick.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"componentDidMount\",value:function componentDidMount(){// 注册需要app端调用的业务方法，具体执行在回调函数中执行具体业务【比如ajax请求】\nvar self=this;react_default.a.$bridge.registerHandler('appCallJS',function(data,responseCallback){console.log(\"JS Echo called with:\",data);self.setState({text1:data.name});responseCallback({name:'from js callBack data'});});}},{key:\"handleClick\",value:function handleClick(){/*\n       web调用原生方法\n       bqJSBridgeService接收三个参数：\n       funcName: 原生方法名，\n       funcParmas: 原生方法参数，\n       callbackFunc:原生调用js的回调函数\n    */var self=this;//注意回调中若要使用this，需要提前绑定给临时变量，不然this获取不到\nreact_default.a.$bqJSBridgeService('firstPageClick',{name:'li'},function(data){self.setState({text:data.name});});}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:this.handleClick,children:\"\\u83B7\\u53D6\\u539F\\u751F\\u6570\\u636E\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:this.state.text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:this.state.text1})]});}}]);return App;}(react[\"Component\"]);\n// CONCATENATED MODULE: ./src/index.js\n/**\n  *  将与原生交互的bridge对象挂载到React下，并绑定全局函数\n  *  调用原生方法示例\n  * \n     var self = this;\n      React.$bqJSBridgeService('firstPageClick', { name: 'li' }, function(data) {\n        self.setState({\n          text: data.name\n        });\n      });\n\n  * */var u=navigator.userAgent;var isiOS=!!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);if(isiOS){// iOS 初始化\nreact_default.a.$bridge=window.WebViewJavascriptBridge;}else{// android初始化（安卓初始化对象较晚）\ndocument.addEventListener('WebViewJavascriptBridgeReady',function(){react_default.a.$bridge=window.WebViewJavascriptBridge;});}react_default.a.$bqJSBridgeService=function(funcName,funcParams,callbackFuc){var lastParams={'FUNC_NAME':funcName,'FUNC_PARAMS':funcParams};if(typeof react_default.a.$bridge=='undefined'){document.addEventListener('WebViewJavascriptBridgeReady',function(){react_default.a.$bridge=window.WebViewJavascriptBridge;react_default.a.$bridge.callHandler('BQJSBridgeService',lastParams,function(response){if(typeof response=='string'){response=JSON.parse(response);callbackFuc(response);}else{callbackFuc(response);}});});}else{react_default.a.$bridge.callHandler('BQJSBridgeService',lastParams,function(response){if(typeof response=='string'){response=JSON.parse(response);callbackFuc(response);}else{callbackFuc(response);}});}};// 注意bridge的绑定一定在ReactDOM渲染前，不然业务组件的componentDidMount方法中获取React.$bridge会为空对象\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[15,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/huatianjie/Desktop/demo/react-bridge/my-app/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/huatianjie/Desktop/demo/react-bridge/my-app/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/huatianjie/Desktop/demo/react-bridge/my-app/node_modules/postcss-loader/src/index.js??postcss!/Users/huatianjie/Desktop/demo/react-bridge/my-app/src/index.css","/Users/huatianjie/Desktop/demo/react-bridge/my-app/src/App.jsx","/Users/huatianjie/Desktop/demo/react-bridge/my-app/src/index.js"],"names":["App","props","state","text","text1","handleClick","bind","self","React","$bridge","registerHandler","data","responseCallback","console","log","setState","name","$bqJSBridgeService","Component","u","navigator","userAgent","isiOS","match","window","WebViewJavascriptBridge","document","addEventListener","funcName","funcParams","callbackFuc","lastParams","callHandler","response","JSON","parse","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { Component } from 'react'\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {text: \"显示数据\",text1:'数据'};\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() { \n    // 注册需要app端调用的业务方法，具体执行在回调函数中执行具体业务【比如ajax请求】\n    var self = this; \n    React.$bridge.registerHandler('appCallJS', function (data, responseCallback) {\n      console.log(\"JS Echo called with:\", data)\n      self.setState({\n        text1: data.name\n      });\n      responseCallback({ name: 'from js callBack data' });\n    });\n  }\n\n  handleClick() {\n    /*\n       web调用原生方法\n       bqJSBridgeService接收三个参数：\n       funcName: 原生方法名，\n       funcParmas: 原生方法参数，\n       callbackFunc:原生调用js的回调函数\n    */ \n    var self = this; //注意回调中若要使用this，需要提前绑定给临时变量，不然this获取不到\n    React.$bqJSBridgeService('firstPageClick', { name: 'li' }, function(data) {\n      self.setState({\n        text: data.name\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.handleClick}>获取原生数据</button>\n        <p>{this.state.text}</p>\n        <p>{this.state.text1}</p>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\n /**\n  *  将与原生交互的bridge对象挂载到React下，并绑定全局函数\n  *  调用原生方法示例\n  * \n     var self = this;\n      React.$bqJSBridgeService('firstPageClick', { name: 'li' }, function(data) {\n        self.setState({\n          text: data.name\n        });\n      });\n\n  * */ \n var u = navigator.userAgent;\n var isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n if(isiOS){\n      // iOS 初始化\n     React.$bridge =  window.WebViewJavascriptBridge;\n }else{\n     // android初始化（安卓初始化对象较晚）\n     document.addEventListener(\n     'WebViewJavascriptBridgeReady',function(){\n      React.$bridge = window.WebViewJavascriptBridge;\n     });\n }\n\nReact.$bqJSBridgeService = function (funcName, funcParams, callbackFuc) {\n  var lastParams = { 'FUNC_NAME': funcName, 'FUNC_PARAMS': funcParams };\n  if (typeof (React.$bridge) == 'undefined') {\n    document.addEventListener(\n      'WebViewJavascriptBridgeReady', function () {\n        React.$bridge = window.WebViewJavascriptBridge;\n        React.$bridge.callHandler('BQJSBridgeService', lastParams, function (response) {\n          if (typeof response == 'string') {\n            response = JSON.parse(response)\n            callbackFuc(response);\n          } else {\n            callbackFuc(response);\n          }\n        })\n      });\n  } else {\n    React.$bridge.callHandler('BQJSBridgeService', lastParams, function (response) {\n      if (typeof response == 'string') {\n        response = JSON.parse(response)\n        callbackFuc(response);\n      } else {\n        callbackFuc(response);\n      }\n    });\n  }\n};\n\n\n// 注意bridge的绑定一定在ReactDOM渲染前，不然业务组件的componentDidMount方法中获取React.$bridge会为空对象\n ReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"]}}