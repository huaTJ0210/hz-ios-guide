{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/huatianjie/Desktop/demo/react-bridge/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/huatianjie/Desktop/demo/react-bridge/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/huatianjie/Desktop/demo/react-bridge/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/huatianjie/Desktop/demo/react-bridge/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/huatianjie/Desktop/demo/react-bridge/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={text:\"显示数据\",text1:'数据'};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){// 注册需要app端调用的业务方法，具体执行在回调函数中执行具体业务【比如ajax请求】\nvar self=this;React.$bridge.registerHandler('appCallJS',function(data,responseCallback){console.log(\"JS Echo called with:\",data);self.setState({text1:data.name});responseCallback({name:'from js callBack data'});});}},{key:\"handleClick\",value:function handleClick(){/*\n       web调用原生方法\n       bqJSBridgeService接收三个参数：\n       funcName: 原生方法名，\n       funcParmas: 原生方法参数，\n       callbackFunc:原生调用js的回调函数\n    */var self=this;//注意回调中若要使用this，需要提前绑定给临时变量，不然this获取不到\nReact.$bqJSBridgeService('firstPageClick',{name:'li'},function(data){self.setState({text:data.name});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.handleClick,children:\"\\u83B7\\u53D6\\u539F\\u751F\\u6570\\u636E\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.text}),/*#__PURE__*/_jsx(\"p\",{children:this.state.text1})]});}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/Users/huatianjie/Desktop/demo/react-bridge/my-app/src/App.jsx"],"names":["React","Component","App","props","state","text","text1","handleClick","bind","self","$bridge","registerHandler","data","responseCallback","console","log","setState","name","$bqJSBridgeService"],"mappings":"q6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEqBC,CAAAA,G,0FAEnB,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAACC,IAAI,CAAE,MAAP,CAAcC,KAAK,CAAC,IAApB,CAAb,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CAHiB,aAIlB,C,6EAEmB,CAClB;AACA,GAAIC,CAAAA,IAAI,CAAG,IAAX,CACAT,KAAK,CAACU,OAAN,CAAcC,eAAd,CAA8B,WAA9B,CAA2C,SAAUC,IAAV,CAAgBC,gBAAhB,CAAkC,CAC3EC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCH,IAApC,EACAH,IAAI,CAACO,QAAL,CAAc,CACZV,KAAK,CAAEM,IAAI,CAACK,IADA,CAAd,EAGAJ,gBAAgB,CAAC,CAAEI,IAAI,CAAE,uBAAR,CAAD,CAAhB,CACD,CAND,EAOD,C,iDAEa,CACZ;AACJ;AACA;AACA;AACA;AACA;AACA,MACI,GAAIR,CAAAA,IAAI,CAAG,IAAX,CAAiB;AACjBT,KAAK,CAACkB,kBAAN,CAAyB,gBAAzB,CAA2C,CAAED,IAAI,CAAE,IAAR,CAA3C,CAA2D,SAASL,IAAT,CAAe,CACxEH,IAAI,CAACO,QAAL,CAAc,CACZX,IAAI,CAAEO,IAAI,CAACK,IADC,CAAd,EAGD,CAJD,EAKD,C,uCAEQ,CACP,mBACE,oCACE,eAAQ,OAAO,CAAE,KAAKV,WAAtB,kDADF,cAEE,mBAAI,KAAKH,KAAL,CAAWC,IAAf,EAFF,cAGE,mBAAI,KAAKD,KAAL,CAAWE,KAAf,EAHF,GADF,CAOD,C,iBA5C8BL,S,SAAZC,G","sourcesContent":["import React, { Component } from 'react'\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {text: \"显示数据\",text1:'数据'};\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() { \n    // 注册需要app端调用的业务方法，具体执行在回调函数中执行具体业务【比如ajax请求】\n    var self = this; \n    React.$bridge.registerHandler('appCallJS', function (data, responseCallback) {\n      console.log(\"JS Echo called with:\", data)\n      self.setState({\n        text1: data.name\n      });\n      responseCallback({ name: 'from js callBack data' });\n    });\n  }\n\n  handleClick() {\n    /*\n       web调用原生方法\n       bqJSBridgeService接收三个参数：\n       funcName: 原生方法名，\n       funcParmas: 原生方法参数，\n       callbackFunc:原生调用js的回调函数\n    */ \n    var self = this; //注意回调中若要使用this，需要提前绑定给临时变量，不然this获取不到\n    React.$bqJSBridgeService('firstPageClick', { name: 'li' }, function(data) {\n      self.setState({\n        text: data.name\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.handleClick}>获取原生数据</button>\n        <p>{this.state.text}</p>\n        <p>{this.state.text1}</p>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}